# 纷享销客登录接口文档

**项目名称**: 纷享销客自动化测试  
**文档版本**: v1.0  
**创建日期**: 2025-11-14  
**创建者**: @gupjiahua  
**最后更新**: 2025-11-14  

---

## 目录
- [1. 接口概览](#1-接口概览)
- [2. 接口1：获取 LoginToken](#2-接口1获取-logintoken)
- [3. 接口2：使用 LoginToken 完成登录](#3-接口2使用-logintoken-完成登录)
- [4. 完整登录流程](#4-完整登录流程)
- [5. Eolink 脚本示例](#5-eolink-脚本示例)
- [6. 环境变量配置](#6-环境变量配置)

---

## 1. 接口概览

纷享销客的登录流程分为两步：

| 步骤 | 接口名称 | 作用 | 关键输入 | 关键输出 |
|------|---------|------|----------|----------|
| 1 | 企业账号云登录 | 验证用户身份，获取临时 token | 企业账号、手机号、密码 | `loginToken` |
| 2 | 通过 Token 登录 | 使用临时 token 获取最终认证 | `loginToken` | 用户信息、Cookie 认证 |

---

## 2. 接口1：获取 LoginToken

### 2.1 基本信息

```yaml
接口名称: 企业账号云登录
接口路径: /FHH/EM0HUL/Authorize/EnterpriseAccountCloudLogin
完整URL: https://www.fxiaoke.com/FHH/EM0HUL/Authorize/EnterpriseAccountCloudLogin
请求方式: POST
Content-Type: application/json
```

### 2.2 Query 参数

| 参数名 | 类型 | 必填 | 说明 | 示例 |
|--------|------|------|------|------|
| _fs_token | String | 是 | 页面 Token（从页面获取） | CZ9cOcGpP6GjOM4nPYqqOpCqBM4sOJOjDsHXCM8tDcKtOJ8o |
| traceId | String | 是 | 追踪ID（时间戳） | login-1763089376667 |

### 2.3 请求头

```http
POST /FHH/EM0HUL/Authorize/EnterpriseAccountCloudLogin?_fs_token=CZ9cOcGpP6GjOM4nPYqqOpCqBM4sOJOjDsHXCM8tDcKtOJ8o&traceId=login-1763089376667 HTTP/1.1
Host: www.fxiaoke.com
Content-Type: application/json
Accept: application/json, text/javascript, */*; q=0.01
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: zh-CN,zh-TW;0.9,en;0.8
Origin: https://www.fxiaoke.com
Referer: https://www.fxiaoke.com/proj/page/login
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0
```

### 2.4 请求体参数

| 参数名 | 类型 | 必填 | 说明 | 示例 |
|--------|------|------|------|------|
| enterpriseAccount | String | 是 | 企业账号 | fktest1919 |
| userAccount | String | 是 | 用户账号（手机号） | 18807849027 |
| rsaPassword | String | 是 | RSA 加密后的密码 | g5nJpZcHXndVwXk/GxWSapaasxrrMA7E... |
| imgCode | String | 否 | 图片验证码 | cydt |
| persistenceHint | Boolean | 否 | 是否保持登录 | true |
| publickKey | String | 是 | RSA 公钥 | MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQ... |
| deviceId | String | 是 | 设备ID | 266397dc9b0b39ab6853909bae46ec98 |

### 2.5 请求体示例

```json
{
  "enterpriseAccount": "fktest1919",
  "userAccount": "18807849027",
  "rsaPassword": "g5nJpZcHXndVwXk/GxWSapaasxrrMA7E/SI7ZlKFGTZeTHeo4UA+iH6x66bSHJeohELe9h7AMKW+HfniAEyEE7t1700VIoabDiWAXWlZreS8S3v4lKO/nPNCIKkvCTihAYTkAzpHKqCTo7JNxK2Xn1B04NDx8OEjKbHw8NNo27w=",
  "imgCode": "cydt",
  "persistenceHint": true,
  "publickKey": "MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCROXqyCKxG8DrQKvrmdwiAHFJseaLHKsdzJ+61EpEGUawyLk5obn2Z2lyVVGjqT3KECk3DJtAD6Jux/m/gW2/lxspvhUO1YE1P8OZuUq5xhr/3AWuSSXCqLM2q6TEMnI2VE1BzlsRcxQVGVd4kGszzpyLXYS9ubFTTp1C2A+uZ1QIDAQAB",
  "deviceId": "266397dc9b0b39ab6853909bae46ec98"
}
```

### 2.6 响应示例

#### 成功响应（StatusCode = 0）

```json
{
  "Result": {
    "StatusCode": 0,
    "UserInfo": {
      "EnterpriseAccount": "fktest1919",
      "EmployeeID": 1000
    }
  },
  "Value": {
    "enterpriseDomains": {
      "img": "https://img.fxiaoke.com",
      "file": "https://f.fxiaoke.com",
      "root": "https://www.fxiaoke.com"
    },
    "loginToken": "a9a12ecd-62c4-4210-88a5-15ece61201e0"
  }
}
```

### 2.7 响应字段说明

| 字段路径 | 类型 | 说明 |
|---------|------|------|
| Result.StatusCode | Integer | 状态码，0 表示成功 |
| Result.UserInfo.EnterpriseAccount | String | 企业账号 |
| Result.UserInfo.EmployeeID | Integer | 员工ID |
| Value.enterpriseDomains | Object | 企业域名信息 |
| Value.loginToken | String | **登录Token（重要！需保存传递给接口2）** |

---

## 3. 接口2：使用 LoginToken 完成登录

### 3.1 基本信息

```yaml
接口名称: 通过 Token 登录
接口路径: /FHH/EM0HCUL/CloudAuthorize/LoginByToken
完整URL: https://www.fxiaoke.com/FHH/EM0HCUL/CloudAuthorize/LoginByToken
请求方式: POST
Content-Type: application/json; charset=UTF-8
```

### 3.2 Query 参数

| 参数名 | 类型 | 必填 | 说明 | 示例 |
|--------|------|------|------|------|
| traceId | String | 是 | 追踪ID（时间戳） | login-1763088663802 |

### 3.3 请求头

```http
POST /FHH/EM0HCUL/CloudAuthorize/LoginByToken?traceId=login-1763088663802 HTTP/1.1
Host: www.fxiaoke.com
Content-Type: application/json; charset=UTF-8
Accept: application/json, text/javascript, */*; q=0.01
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: zh-CN,zh-TW;0.9,en;0.8
Origin: https://www.fxiaoke.com
Referer: https://www.fxiaoke.com/proj/page/login?returnUrl=https%3A%2F%2Fwww.fxiaoke.com%2FXV%2FUI%2FHome
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0
Cookie: guid=bb9aa351-5460-051d-3f5f-819a4a6b51f8; lang=zh-CN; mirrorId=0000; fs_token=xxx; FSAuthX=xxx; FSAuthXC=xxx; JSESSIONID=xxx
```

### 3.4 请求体参数

| 参数名 | 类型 | 必填 | 说明 | 示例 |
|--------|------|------|------|------|
| loginToken | String | 是 | 从接口1获取的 loginToken | a9a12ecd-62c4-4210-88a5-15ece61201e0 |
| domain | String | 是 | 域名 | www.fxiaoke.com |

### 3.5 请求体示例

```json
{
  "loginToken": "a9a12ecd-62c4-4210-88a5-15ece61201e0",
  "domain": "www.fxiaoke.com"
}
```

### 3.6 响应示例

#### 成功响应（StatusCode = 0, loginResult = 1）

```json
{
  "Result": {
    "StatusCode": 0,
    "UserInfo": {
      "EnterpriseAccount": "fktest1919",
      "EmployeeID": 1000
    }
  },
  "Value": {
    "loginResult": 1,
    "internationalAreaCode": "+86",
    "mobile": "18807849027",
    "enterpriseId": 720136,
    "enterpriseName": "请不要自行灰度-服务通测试企业fktest1919",
    "sessionId": ""
  }
}
```

### 3.7 响应字段说明

| 字段路径 | 类型 | 说明 |
|---------|------|------|
| Result.StatusCode | Integer | 状态码，0 表示成功 |
| Result.UserInfo.EnterpriseAccount | String | 企业账号 |
| Result.UserInfo.EmployeeID | Integer | 员工ID（重要！可能用于后续接口） |
| Value.loginResult | Integer | 登录结果，1 表示成功 |
| Value.mobile | String | 手机号 |
| Value.enterpriseId | Integer | 企业ID（重要！可能用于后续接口） |
| Value.enterpriseName | String | 企业名称 |
| Value.sessionId | String | 会话ID |

### 3.8 响应 Cookie（重要！）

登录成功后，服务器会设置以下 Cookie，后续接口需要携带：

| Cookie 名称 | 说明 | 示例 |
|-------------|------|------|
| FSAuthX | 认证令牌 | 0G6005zSX860001OSLS9WMow5rQlnp2jW1QAjfJw... |
| FSAuthXC | 认证令牌副本 | 0G6005zSX860001OSLS9WMow5rQlnp2jW1QAjfJw... |
| JSESSIONID | 会话ID | A22C59057D9E463CA5F674109B7E6A9B |
| fs_token | 页面Token | EMGvCJDYEMGjE6GpEIqqPcPaBM4uEMGjE30vOZTY... |

---

## 4. 完整登录流程

### 4.1 流程图

```
┌──────────────────────────────────────────────────────┐
│ 步骤0: 准备参数                                       │
├──────────────────────────────────────────────────────┤
│ • 企业账号: fktest1919                               │
│ • 用户账号: 18807849027                              │
│ • 密码: 需要 RSA 加密                                │
│ • 设备ID: 生成或固定值                               │
│ • traceId: 生成（login-{timestamp}）                │
└──────────────────────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────┐
│ 步骤1: 调用接口1 - 获取 LoginToken                    │
├──────────────────────────────────────────────────────┤
│ POST /Authorize/EnterpriseAccountCloudLogin          │
│                                                       │
│ 请求:                                                 │
│ {                                                     │
│   "enterpriseAccount": "fktest1919",                 │
│   "userAccount": "18807849027",                      │
│   "rsaPassword": "加密后的密码",                      │
│   "imgCode": "验证码",                                │
│   "deviceId": "设备ID",                               │
│   "publickKey": "RSA公钥"                            │
│ }                                                     │
│                                                       │
│ 响应:                                                 │
│ {                                                     │
│   "Result": {"StatusCode": 0},                       │
│   "Value": {                                          │
│     "loginToken": "a9a12ecd-62c4-..."  ← 保存这个！  │
│   }                                                   │
│ }                                                     │
└──────────────────────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────┐
│ 步骤2: 调用接口2 - 使用 LoginToken 完成登录           │
├──────────────────────────────────────────────────────┤
│ POST /CloudAuthorize/LoginByToken                    │
│                                                       │
│ 请求:                                                 │
│ {                                                     │
│   "loginToken": "a9a12ecd-62c4-...",  ← 从步骤1获取  │
│   "domain": "www.fxiaoke.com"                        │
│ }                                                     │
│                                                       │
│ 响应:                                                 │
│ {                                                     │
│   "Result": {                                         │
│     "StatusCode": 0,                                 │
│     "UserInfo": {                                     │
│       "EmployeeID": 1000  ← 保存！                   │
│     }                                                 │
│   },                                                  │
│   "Value": {                                          │
│     "loginResult": 1,                                │
│     "enterpriseId": 720136  ← 保存！                 │
│   }                                                   │
│ }                                                     │
│                                                       │
│ Cookie (自动设置):                                    │
│ • FSAuthX=xxx       ← 重要！后续接口需要              │
│ • FSAuthXC=xxx      ← 重要！后续接口需要              │
│ • JSESSIONID=xxx    ← 重要！后续接口需要              │
└──────────────────────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────┐
│ 登录成功！可以调用业务接口                            │
├──────────────────────────────────────────────────────┤
│ 后续请求需要携带:                                     │
│ • Cookie: FSAuthX, FSAuthXC, JSESSIONID              │
│ • 可能需要: EmployeeID, enterpriseId                 │
└──────────────────────────────────────────────────────┘
```

### 4.2 数据流转

```
输入参数:
├─ enterpriseAccount (企业账号)
├─ userAccount (手机号)
├─ password (明文密码) → RSA加密 → rsaPassword
└─ imgCode (验证码)

接口1 输出:
└─ loginToken

接口2 输入:
└─ loginToken (从接口1获取)

接口2 输出:
├─ EmployeeID (员工ID)
├─ enterpriseId (企业ID)
└─ Cookie (FSAuthX, FSAuthXC, JSESSIONID)

后续接口使用:
├─ Cookie (必须)
├─ EmployeeID (可能需要)
└─ enterpriseId (可能需要)
```

---

## 5. Eolink 脚本示例

### 5.1 接口1 前置脚本

```javascript
// ===== 接口1: 获取 LoginToken - 前置脚本 =====

// 1. 设置基础参数
eo.env.set("enterprise_account", "fktest1919");
eo.env.set("user_account", "18807849027");

// 2. 生成 traceId (时间戳)
var timestamp = Date.now();
var traceId = "login-" + timestamp;
eo.env.set("trace_id", traceId);

// 3. 设置设备ID（可以固定一个值）
eo.env.set("device_id", "266397dc9b0b39ab6853909bae46ec98");

// 4. 设置 RSA 公钥
var publicKey = "MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCROXqyCKxG8DrQKvrmdwiAHFJseaLHKsdzJ+61EpEGUawyLk5obn2Z2lyVVGjqT3KECk3DJtAD6Jux/m/gW2/lxspvhUO1YE1P8OZuUq5xhr/3AWuSSXCqLM2q6TEMnI2VE1BzlsRcxQVGVd4kGszzpyLXYS9ubFTTp1C2A+uZ1QIDAQAB";
eo.env.set("public_key", publicKey);

// 5. 密码 RSA 加密（需要使用 jsencrypt 库）
// 注意: 这里需要在 Eolink 中引入 jsencrypt 库
// 或者手动提供加密后的密码
var plainPassword = eo.env.get("password"); // 从环境变量获取明文密码
// TODO: 实现 RSA 加密逻辑
// var encrypt = new JSEncrypt();
// encrypt.setPublicKey(publicKey);
// var rsaPassword = encrypt.encrypt(plainPassword);
// eo.env.set("rsa_password", rsaPassword);

// 临时方案: 使用预先加密好的密码
eo.env.set("rsa_password", eo.env.get("pre_encrypted_password"));

console.log("=== 接口1 准备完成 ===");
console.log("企业账号: " + eo.env.get("enterprise_account"));
console.log("用户账号: " + eo.env.get("user_account"));
console.log("TraceId: " + traceId);
```

### 5.2 接口1 后置脚本

```javascript
// ===== 接口1: 获取 LoginToken - 后置脚本 =====

try {
    var response = JSON.parse(eo.response.body);
    
    console.log("=== 接口1 响应 ===");
    console.log("StatusCode: " + response.Result.StatusCode);
    
    // 检查是否成功
    if (response.Result.StatusCode === 0) {
        // 提取并保存 loginToken
        var loginToken = response.Value.loginToken;
        eo.env.set("login_token", loginToken);
        
        // 保存用户信息
        eo.env.set("employee_id", response.Result.UserInfo.EmployeeID);
        eo.env.set("enterprise_account", response.Result.UserInfo.EnterpriseAccount);
        
        console.log("✅ LoginToken 获取成功: " + loginToken.substring(0, 20) + "...");
        console.log("员工ID: " + response.Result.UserInfo.EmployeeID);
    } else {
        console.error("❌ 获取 LoginToken 失败");
        console.error("错误信息: " + JSON.stringify(response));
        throw new Error("接口1 调用失败");
    }
    
} catch (e) {
    console.error("❌ 处理响应失败: " + e.message);
    throw e;
}
```

### 5.3 接口2 前置脚本

```javascript
// ===== 接口2: 使用 LoginToken 登录 - 前置脚本 =====

// 1. 检查 loginToken 是否存在
var loginToken = eo.env.get("login_token");
if (!loginToken) {
    console.error("❌ 未找到 loginToken，请先执行接口1");
    throw new Error("缺少 loginToken");
}

// 2. 生成新的 traceId
var timestamp = Date.now();
var traceId = "login-" + timestamp;
eo.env.set("trace_id", traceId);

// 3. 设置域名
eo.env.set("domain", "www.fxiaoke.com");

console.log("=== 接口2 准备完成 ===");
console.log("LoginToken: " + loginToken.substring(0, 20) + "...");
console.log("TraceId: " + traceId);
console.log("Domain: www.fxiaoke.com");
```

### 5.4 接口2 后置脚本

```javascript
// ===== 接口2: 使用 LoginToken 登录 - 后置脚本 =====

try {
    var response = JSON.parse(eo.response.body);
    
    console.log("=== 接口2 响应 ===");
    console.log("StatusCode: " + response.Result.StatusCode);
    console.log("LoginResult: " + response.Value.loginResult);
    
    // 检查是否登录成功
    if (response.Result.StatusCode === 0 && response.Value.loginResult === 1) {
        
        // 保存用户信息
        eo.env.set("employee_id", response.Result.UserInfo.EmployeeID);
        eo.env.set("enterprise_account", response.Result.UserInfo.EnterpriseAccount);
        eo.env.set("enterprise_id", response.Value.enterpriseId);
        eo.env.set("enterprise_name", response.Value.enterpriseName);
        eo.env.set("mobile", response.Value.mobile);
        
        // 提取 Cookie (从响应头中)
        // 注意: Eolink 会自动管理 Cookie，通常不需要手动提取
        // 如果需要手动提取，可以从 eo.response.headers 中获取
        
        console.log("✅ 登录成功！");
        console.log("企业账号: " + response.Result.UserInfo.EnterpriseAccount);
        console.log("员工ID: " + response.Result.UserInfo.EmployeeID);
        console.log("企业ID: " + response.Value.enterpriseId);
        console.log("企业名称: " + response.Value.enterpriseName);
        console.log("手机号: " + response.Value.mobile);
        
        // 设置登录状态标识
        eo.env.set("is_logged_in", "true");
        
    } else {
        console.error("❌ 登录失败");
        console.error("错误信息: " + JSON.stringify(response));
        throw new Error("接口2 登录失败");
    }
    
} catch (e) {
    console.error("❌ 处理响应失败: " + e.message);
    eo.env.set("is_logged_in", "false");
    throw e;
}

// 测试断言
eo.test("登录状态码为 0", function() {
    var response = JSON.parse(eo.response.body);
    eo.expect(response.Result.StatusCode).to.equal(0);
});

eo.test("登录结果为成功", function() {
    var response = JSON.parse(eo.response.body);
    eo.expect(response.Value.loginResult).to.equal(1);
});

eo.test("返回员工ID", function() {
    var response = JSON.parse(eo.response.body);
    eo.expect(response.Result.UserInfo.EmployeeID).to.be.a("number");
});
```

---

## 6. 环境变量配置

### 6.1 Eolink 环境变量设置

在 Eolink 中创建以下环境变量：

```json
{
  "base_url": "https://www.fxiaoke.com",
  "enterprise_account": "fktest1919",
  "user_account": "18807849027",
  "password": "明文密码（用于测试）",
  "pre_encrypted_password": "预先加密的密码（临时方案）",
  "img_code": "验证码（如果需要）",
  "device_id": "266397dc9b0b39ab6853909bae46ec98",
  "public_key": "MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCROXqyCKxG8DrQKvrmdwiAHFJseaLHKsdzJ+61EpEGUawyLk5obn2Z2lyVVGjqT3KECk3DJtAD6Jux/m/gW2/lxspvhUO1YE1P8OZuUq5xhr/3AWuSSXCqLM2q6TEMnI2VE1BzlsRcxQVGVd4kGszzpyLXYS9ubFTTp1C2A+uZ1QIDAQAB",
  "domain": "www.fxiaoke.com",
  "login_token": "",
  "employee_id": "",
  "enterprise_id": "",
  "is_logged_in": "false"
}
```

### 6.2 简化方案：直接使用 Cookie（推荐）

如果不想每次都执行完整的登录流程，可以：

1. 手动登录一次
2. 从浏览器复制 Cookie
3. 在 Eolink 环境变量中配置：

```json
{
  "base_url": "https://www.fxiaoke.com",
  "employee_id": 1000,
  "enterprise_id": 720136,
  "enterprise_account": "fktest1919",
  "FSAuthX": "0G6005zSX860001OSLS9WMow5rQlnp2jW1QAjfJw...",
  "FSAuthXC": "0G6005zSX860001OSLS9WMow5rQlnp2jW1QAjfJw...",
  "JSESSIONID": "A22C59057D9E463CA5F674109B7E6A9B",
  "fs_token": "EMGvCJDYEMGjE6GpEIqqPcPaBM4uEMGjE30vOZTY..."
}
```

4. 在后续接口的请求头中使用：

```javascript
// 前置脚本
eo.request.headers["Cookie"] = "FSAuthX=" + eo.env.get("FSAuthX") + 
                                "; FSAuthXC=" + eo.env.get("FSAuthXC") + 
                                "; JSESSIONID=" + eo.env.get("JSESSIONID") + 
                                "; fs_token=" + eo.env.get("fs_token");
```

---

## 7. 注意事项

### 7.1 RSA 密码加密

密码需要使用 RSA 公钥加密。有两种处理方式：

**方式1: 在脚本中加密（推荐）**
```javascript
// 需要引入 jsencrypt 库
// 在 Eolink 全局脚本中引入或使用外部库

var encrypt = new JSEncrypt();
encrypt.setPublicKey(publicKey);
var rsaPassword = encrypt.encrypt(plainPassword);
```

**方式2: 预先加密（临时方案）**
```javascript
// 使用在线 RSA 加密工具预先加密密码
// 将加密后的密码直接配置在环境变量中
eo.env.set("rsa_password", "预先加密的密码");
```

### 7.2 图片验证码

如果需要图片验证码，需要：
1. 人工识别后手动输入
2. 或集成验证码识别服务

### 7.3 Cookie 管理

- Eolink 会自动管理 Cookie
- 如果 Cookie 过期，需要重新登录
- 建议使用 Cookie 的简化方案，避免频繁执行登录流程

### 7.4 接口调用顺序

```
必须按顺序执行:
1. 接口1: 获取 LoginToken
2. 接口2: 使用 LoginToken 登录
3. 业务接口: 使用登录后的 Cookie
```

---

## 8. 测试用例

### 8.1 正常登录流程测试

```
测试步骤:
1. 执行接口1，检查是否返回 loginToken
2. 执行接口2，检查是否登录成功
3. 验证环境变量中是否保存了必要的信息

预期结果:
✅ 接口1 返回 StatusCode = 0
✅ 接口1 返回 loginToken
✅ 接口2 返回 StatusCode = 0
✅ 接口2 返回 loginResult = 1
✅ 环境变量保存了 employee_id, enterprise_id
```

### 8.2 错误场景测试

```
场景1: 错误的用户名或密码
预期: 接口1 返回错误信息

场景2: 无效的 loginToken
预期: 接口2 返回错误信息

场景3: loginToken 过期
预期: 接口2 返回错误信息
```

---

## 9. 常见问题

### Q1: 如何获取 RSA 公钥？
A: 从页面源码或接口响应中获取，或使用文档中提供的公钥。

### Q2: loginToken 的有效期是多久？
A: 需要测试确认，建议获取后立即使用。

### Q3: Cookie 的有效期是多久？
A: 需要测试确认，过期后需要重新登录。

### Q4: 可以跳过接口1直接使用 Cookie 吗？
A: 可以，如果 Cookie 仍然有效，可以直接使用。

---

## 10. 附录

### 10.1 完整的 cURL 示例

**接口1: 获取 LoginToken**

```bash
curl 'https://www.fxiaoke.com/FHH/EM0HUL/Authorize/EnterpriseAccountCloudLogin?_fs_token=CZ9cOcGpP6GjOM4nPYqqOpCqBM4sOJOjDsHXCM8tDcKtOJ8o&traceId=login-1763089376667' \
  -H 'Content-Type: application/json' \
  -H 'Accept: application/json, text/javascript, */*; q=0.01' \
  -H 'Origin: https://www.fxiaoke.com' \
  --data-raw '{
    "enterpriseAccount":"fktest1919",
    "userAccount":"18807849027",
    "rsaPassword":"g5nJpZcHXndVwXk/GxWSapaasxrrMA7E/SI7ZlKFGTZeTHeo4UA+iH6x66bSHJeohELe9h7AMKW+HfniAEyEE7t1700VIoabDiWAXWlZreS8S3v4lKO/nPNCIKkvCTihAYTkAzpHKqCTo7JNxK2Xn1B04NDx8OEjKbHw8NNo27w=",
    "imgCode":"cydt",
    "persistenceHint":true,
    "publickKey":"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCROXqyCKxG8DrQKvrmdwiAHFJseaLHKsdzJ+61EpEGUawyLk5obn2Z2lyVVGjqT3KECk3DJtAD6Jux/m/gW2/lxspvhUO1YE1P8OZuUq5xhr/3AWuSSXCqLM2q6TEMnI2VE1BzlsRcxQVGVd4kGszzpyLXYS9ubFTTp1C2A+uZ1QIDAQAB",
    "deviceId":"266397dc9b0b39ab6853909bae46ec98"
  }'
```

**接口2: 使用 LoginToken 登录**

```bash
curl 'https://www.fxiaoke.com/FHH/EM0HCUL/CloudAuthorize/LoginByToken?traceId=login-1763088663802' \
  -H 'Content-Type: application/json; charset=UTF-8' \
  -H 'Accept: application/json, text/javascript, */*; q=0.01' \
  -H 'Cookie: guid=bb9aa351-5460-051d-3f5f-819a4a6b51f8; lang=zh-CN; mirrorId=0000' \
  --data-raw '{
    "loginToken":"a9a12ecd-62c4-4210-88a5-15ece61201e0",
    "domain":"www.fxiaoke.com"
  }'
```

---

**文档结束**